version: "3.8"

services:
  copilot:
    build: .
    image: copilot-cli-container
    container_name: copilot-cli
    hostname: copilot-container
    stdin_open: true
    tty: true
    
    # Security settings
    security_opt:
      - no-new-privileges:true
    read_only: true
    
    # Temporary filesystems
    tmpfs:
      - /tmp
      - /home/copilot:mode=1777
    
    # Environment variables (set in .env file or shell)
    environment:
      - GH_TOKEN=${GH_TOKEN:-}
      - GITHUB_TOKEN=${GITHUB_TOKEN:-}
    
    # Mount your project directory
    # Uncomment and set your project path:
    # volumes:
    #   - ~/my-project:/workspace
